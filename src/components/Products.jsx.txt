import React, { useState } from "react";
import { motion, AnimatePresence } from "framer-motion";

// Agrega aquí todas tus colecciones y productos con sus imágenes reales
const collections = [
  {
    name: "Colección Marina",
    products: [
      { name: "Estrella", price: 12, img: "URL_FOTO_ESTRELLA", desc: "Vela en forma de estrella marina, aroma a jazmín." },
      { name: "Caracola", price: 13, img: "URL_FOTO_CARACOLA", desc: "Inspirada en el mar, fragancia tropical." },
      { name: "Concha yeso", price: 11, img: "URL_FOTO_CONCHA", desc: "Decorativa, aroma a coco." },
      { name: "Concha", price: 12.5, img: "URL_FOTO_CONCHA", desc: "Vela con forma de concha marina, aroma a citronella." }
    ]
  },
  // Añade aquí las demás colecciones (Floral, Cactus, etc.)
];

function Products() {
  const [selected, setSelected] = useState(null);

  return (
    <section id="products" className="products-section">
      <h2>Nuestras Colecciones</h2>
      <div className="collections-list">
        {collections.map((col, idx) => (
          <div key={col.name} className="collection-card">
            <button onClick={() => setSelected(idx)}>{col.name}</button>
          </div>
        ))}
      </div>
      <AnimatePresence>
        {selected !== null && (
          <motion.div
            className="products-modal"
            initial={{ opacity: 0, y: 80 }}
            animate={{ opacity: 1, y: 0 }}
            exit={{ opacity: 0, y: 80 }}
          >
            <button className="close-btn" onClick={() => setSelected(null)}>×</button>
            <h3>{collections[selected].name}</h3>
            <div className="products-list">
              {collections[selected].products.map(prod => (
                <div className="product-card" key={prod.name}>
                  <img src={prod.img} alt={prod.name} />
                  <div className="product-info">
                    <h4>{prod.name}</h4>
                    <p>{prod.desc}</p>
                    <span className="price">{prod.price.toFixed(2)} €</span>
                    <button className="buy-btn">Comprar</button>
                  </div>
                </div>
              ))}
            </div>
          </motion.div>
        )}
      </AnimatePresence>
    </section>
  );
}

export default Products;
